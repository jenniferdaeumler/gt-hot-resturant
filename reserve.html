<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
        integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body data-gr-c-s-loaded="true">

    <div class="container">
  
      <div class="jumbotron">
        <h1 class="text-center"><span class="fa fa-fire"></span> Hot Restaurant</h1>
        <hr>
        <h2 class="text-center">Current Reservations and Waiting List</h2>
        <br>
  
        <div class="text-center">
          <a href="/reserve"><button class="btn btn-lg btn-danger"><span class="fa fa-credit-card"></span> Make Reservation</button></a>
          <a href="/"><button class="btn btn-lg btn-default"><span class="fa fa-home"></span></button></a>
        </div>
      </div>
  
      <div class="row">
        <div class="col-lg-12">
  
          <!-- Current Tables in Use -->
          <div class="card">
            <div class="card-header">
              <h4>Current Reservations</h4>
            </div>
            <div class="card-body">
              <ul id="tableList" class="list-group"><li class="list-group-item mt-4"><h2>Table #1</h2><hr><h2>ID: gfdgd</h2><h2>Name: dsadsa</h2><h2>Email: gfdgd</h2><h2>Phone: gdfgdf</h2></li></ul>
            </div>
          </div>
  
          <!-- Waiting List Card -->
          <div class="card mt-4">
            <div class="card-header">
              <h4>Waiting List</h4>
            </div>
            <div class="card-body">
              <ul id="waitList" class="list-group"></ul>
            </div>
          </div>
        </div>
      </div>
  
  
      <footer class="footer mt-4">
        <div class="container">
          <p>Control Panel</p>
          <p><a href="#" id="clear">Clear Table</a> | <a href="/api/tables">API Table Link</a> | <a href="/api/waitlist">API
              Wait List</a>
        </p></div>
      </footer>
  
    </div>
    <script>
      $(document).ready(function(){
        $.get("api/tables", function(data){
          console.log(data)
          if (data.length>5){
            for (i=0;i<5;i++){
              var resCard = `<li class="list-group-item mt-4"><h2>Table #${i+1}</h2><hr><h2>ID: ${data[i].id}</h2><h2>Name: ${data[i].name}</h2><h2>Email: ${data[i].email}</h2><h2>Phone: ${data[i].phone}</h2></li>`
              $("#tableList").append(resCard)
            }for(i=5;i<data.length;i++){
              var resCard = `<li class="list-group-item mt-4"><h2>ID: ${data[i].id}</h2><h2>Name: ${data[i].name}</h2><h2>Email: ${data[i].email}</h2><h2>Phone: ${data[i].phone}</h2></li>`
              $("#waitList").append(resCard)
            }
            }else{
              for(i=5;i<data.length;i++){
              var resCard = `<li class="list-group-item mt-4"><h2>ID: ${data[i].id}</h2><h2>Name: ${data[i].name}</h2><h2>Email: ${data[i].email}</h2><h2>Phone: ${data[i].phone}</h2></li>`
              $("#tableList").append(resCard)
              }
            }
        })
      })
    </script>
  </body>

</html>